<md-toolbar color="primary">
    <div *ngIf="course">{{course.name}}</div>
</md-toolbar>
<div fxLayout="column" fxLayoutAlign="center center">
    <div fxLayout="column" class="course-details-wrapper">
        <md-card *ngIf="course" class="details-card">
            <div fxLayout="row">
                <div fxFlex class="tile" id="complete" [fxHide]="completionPercentage === 100">
                    {{ completionPercentage | number : '1.0-2' }}% Done
                </div>
                <div fxFlex class="tile" id="grade">
                    {{ currentGrade | number : '1.0-1' }}% Current Grade
                </div>
            </div>
            <div fxLayout="column" class="deliverable-wrapper">
                <div *ngFor="let deliverable of course.deliverables" class="deliverable">
                    <div fxLayout="row" fxFlex fxLayoutAlign="start center">
                        <div fxFlex>
                            <div md-line>{{deliverable.name}}</div>
                            <div md-line>{{deliverable.due | date}}</div>
                            <div md-line fxHide="false" fxHide.gt-xs>Mark: {{getDisplayValue(deliverable.mark)}}</div>
                            <div md-line fxHide="false" fxHide.gt-xs>Weight: {{getDisplayValue(deliverable.weight)}}</div>
                        </div>
                        <div fxFlex fxShow="false" fxShow.gt-xs>
                            <div md-line>Mark: {{getDisplayValue(deliverable.mark)}}</div>
                            <div md-line>Weight: {{getDisplayValue(deliverable.weight)}}</div>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="center center">
                            <div>{{getStatus(deliverable)}}</div>
                            <button md-button md-icon-button [fxHide]="deliverable.isComplete" (click)="completeDeliverable(deliverable)" mdTooltip="Complete">
                                <md-icon>done</md-icon>
                            </button>
                            <button md-button md-icon-button [fxShow]="canInputMark(deliverable)" (click)="beginInputMark(deliverable)" mdTooltip="Input Grade">
                                <md-icon>input</md-icon>
                            </button>
                            <button md-button md-icon-button mdTooltip="Edit Deliverable">
                                <md-icon>edit</md-icon>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </md-card>
        <div fxLayout="row" fxLayoutAlign="center center" class="button-container">
            <a md-fab (click)="openDeliverableDialog()">
                <md-icon>add</md-icon>
            </a>
        </div>
    </div>
</div>